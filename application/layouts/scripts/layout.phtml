<?= $this->doctype(); ?>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <?= $this->headTitle(); ?>
    <?= $this->headLink()->prependStylesheet('https://cdn.jsdelivr.net/npm/tailwindcss/dist/tailwind.min.css'); ?>
</head>
<body class="bg-grey-lighter text-black">
    <header class="bg-indigo-lighter">
        <div class="container mx-auto p-4 flex justify-between">
            <div class="font-bold text-indigo-darken">ZF Quickstart Application</div>
            <div>
                <a class="text-white no-underline bg-indigo-light px-3 py-2 rounded mr-2"
                   href="<?= $this->url(array('controller' => 'index', 'action' => 'index', 'module' => 'default')) ?>">
                    Home
                </a>
                <a class="text-white no-underline bg-indigo-light px-3 py-2 rounded mr-2"
                   href="<?= $this->url(array('controller' => 'book', 'action' => 'index', 'module' => 'admin')) ?>">
                    Books
                </a>
                <a class="text-white no-underline bg-indigo-light px-3 py-2 rounded"
                   href="<?= $this->url(array('controller' => 'book', 'action' => 'add', 'module' => 'admin')) ?>">
                    Add new book
                </a>
            </div>
        </div>
    </header>
    <div class="container mx-auto py-6">
        <!-- Global notification handling to use call flashMessenger action helper -->
        <?php $flashMessenger = Zend_Controller_Action_HelperBroker::getStaticHelper('FlashMessenger'); ?>
        <?php if ($flashMessenger->setNamespace('success')->hasMessages()): ?>
            <div class="bg-green-lightest border-l-4 border-green text-green-dark p-4" role="alert">
                <ul>
                    <?php foreach ($flashMessenger->getMessages() as $msg): ?>
                        <li><?= $msg ?></li>
                    <?php endforeach; ?>
                </ul>
            </div>
        <?php endif; ?>

        <?php if ($flashMessenger->setNamespace('error')->hasMessages()): ?>
            <div class="bg-red-lightest border-l-4 border-red text-red-dark p-4" role="alert">
                <ul>
                    <?php foreach ($flashMessenger->getMessages() as $msg): ?>
                        <li><?= $msg ?></li>
                    <?php endforeach; ?>
                </ul>
            </div>
        <?php endif; ?>

        <!--content--->
        <?php echo $this->layout()->content ?>
    </div>
</body>
</html>

